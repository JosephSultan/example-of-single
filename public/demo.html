<!DOCTYPE html>
<html>
  <head>
    <title>Login/Signup Widget</title>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.17.1/firebase-auth.js"></script>
    <script type="module">
      // Your web app's Firebase configuration
      const firebaseConfig = {
        apiKey: "AIzaSyA3KY6X6ce98lQd-XtRI5HaAFli1rC-95o",
        authDomain: "sla-dive.firebaseapp.com",
        projectId: "sla-dive",
        storageBucket: "sla-dive.appspot.com",
        messagingSenderId: "1008752397295",
        appId: "1:1008752397295:web:1fa46be1bc3461b32d841a"
      };

      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();

      // Google Sign-In
      const googleButton = document.getElementById('google-signin');
      const provider = new firebase.auth.GoogleAuthProvider();
      googleButton.addEventListener('click', () => {
        auth.signInWithPopup(provider)
          .then((result) => {
            const user = result.user;
            console.log(`Hello ${user.displayName}`);
          })
          .catch((error) => {
            console.log(error);
          });
      });

      function handleSignup() {
        const email = document.getElementById("signup-email").value;
        const password = document.getElementById("signup-password").value;
        auth.createUserWithEmailAndPassword(email, password)
          .then((userCredential) => {
            alert("You have successfully signed up!");
          })
          .catch((error) => {
            alert(error.message);
          }); 
      }

      function handleLogin() {
        const email = document.getElementById("login-email").value;
        const password = document.getElementById("login-password").value;
        auth.signInWithEmailAndPassword(email, password)
          .then((userCredential) => {
            alert("You are now logged in!");
          })
          .catch((error) => {
            alert(error.message);
          });
      }
    </script>  
  </head>
  <body style="display: flex; flex-direction: column; align-items: center;">
    <h1>Login/Signup Widget</h1>
    <div style="display: flex; flex-direction: column; margin-bottom: 16px;">
      <h2>Signup</h2>
      <input type="email" id="signup-email" placeholder="Email" style="margin-bottom: 8px;">
      <input type="password" id="signup-password" placeholder="Password" style="margin-bottom: 8px;">
      <button onclick="handleSignup()">Signup</button>
    </div>
    <div style="display: flex; flex-direction: column;">
      <h2>Login</h2>
      <input type="email" id="login-email" placeholder="Email" style="margin-bottom: 8px;">
      <input type="password" id="login-password" placeholder="Password" style="margin-bottom: 8px;">
      <button onclick="handleLogin()">Login</button>
      <button id="google-signin">Google Sign-In</button>
    </div>
  </body>
</html>